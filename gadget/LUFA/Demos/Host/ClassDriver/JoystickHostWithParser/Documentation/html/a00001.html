<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>LUFA Library - Joystick Host Demo (Using HID Descriptor Parser): JoystickHostWithParser.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>JoystickHostWithParser.c File Reference</h1><code>#include &quot;<a class="el" href="a00002.html">JoystickHostWithParser.h</a>&quot;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00001.html#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00001.html#acb27e569c06a2797c5fd58ed39147448">SetupHardware</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00001.html#a011fab117d47b660e88a11fc4d3ebd48">EVENT_USB_Host_DeviceAttached</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00001.html#adbe6c27b3064d3a0aeff5418a0a6e45d">EVENT_USB_Host_DeviceUnattached</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00001.html#a014e4d885358636c13efb643e56abe67">EVENT_USB_Host_DeviceEnumerationComplete</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00001.html#acba95db728d0d4ffc4abaf4b1e9dc707">EVENT_USB_Host_HostError</a> (const uint8_t ErrorCode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00001.html#ae0b1e6afc2831ad33bda0b1c1d8f5825">EVENT_USB_Host_DeviceEnumerationFailed</a> (const uint8_t ErrorCode, const uint8_t SubErrorCode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00001.html#afa347c80d225c0b593b26010c9d48256">CALLBACK_HIDParser_FilterHIDReportItem</a> (HID_ReportItem_t *CurrentItem)</td></tr>
<tr><td colspan="2"><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">HID_ReportInfo_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00001.html#a90d91e73fbcaef8f1c91098f9f08372c">HIDReportInfo</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">USB_ClassInfo_HID_Host_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00001.html#a85a79ab8955f38427bffb57527382a96">Joystick_HID_Interface</a></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Main source file for the JoystickHostWithParser demo. This file contains the main tasks of the demo and is responsible for the initial application hardware configuration. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="afa347c80d225c0b593b26010c9d48256"></a><!-- doxytag: member="JoystickHostWithParser.c::CALLBACK_HIDParser_FilterHIDReportItem" ref="afa347c80d225c0b593b26010c9d48256" args="(HID_ReportItem_t *CurrentItem)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CALLBACK_HIDParser_FilterHIDReportItem </td>
          <td>(</td>
          <td class="paramtype">HID_ReportItem_t *&nbsp;</td>
          <td class="paramname"> <em>CurrentItem</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Callback for the HID Report Parser. This function is called each time the HID report parser is about to store an IN, OUT or FEATURE item into the HIDReportInfo structure. To save on RAM, we are able to filter out items we aren't interested in (preventing us from being able to extract them later on, but saving on the RAM they would have occupied).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>CurrentItem</em>&nbsp;</td><td>Pointer to the item the HID report parser is currently working with</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Boolean true if the item should be stored into the HID report structure, false if it should be discarded </dd></dl>

</div>
</div>
<a class="anchor" id="a011fab117d47b660e88a11fc4d3ebd48"></a><!-- doxytag: member="JoystickHostWithParser.c::EVENT_USB_Host_DeviceAttached" ref="a011fab117d47b660e88a11fc4d3ebd48" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVENT_USB_Host_DeviceAttached </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Event handler for the USB_DeviceAttached event. This indicates that a device has been attached to the host, and starts the library USB task to begin the enumeration and USB management process. </p>

</div>
</div>
<a class="anchor" id="a014e4d885358636c13efb643e56abe67"></a><!-- doxytag: member="JoystickHostWithParser.c::EVENT_USB_Host_DeviceEnumerationComplete" ref="a014e4d885358636c13efb643e56abe67" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVENT_USB_Host_DeviceEnumerationComplete </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Event handler for the USB_DeviceEnumerationComplete event. This indicates that a device has been successfully enumerated by the host and is now ready to be used by the application. </p>

</div>
</div>
<a class="anchor" id="ae0b1e6afc2831ad33bda0b1c1d8f5825"></a><!-- doxytag: member="JoystickHostWithParser.c::EVENT_USB_Host_DeviceEnumerationFailed" ref="ae0b1e6afc2831ad33bda0b1c1d8f5825" args="(const uint8_t ErrorCode, const uint8_t SubErrorCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVENT_USB_Host_DeviceEnumerationFailed </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&nbsp;</td>
          <td class="paramname"> <em>ErrorCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&nbsp;</td>
          <td class="paramname"> <em>SubErrorCode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Event handler for the USB_DeviceEnumerationFailed event. This indicates that a problem occurred while enumerating an attached USB device. </p>

</div>
</div>
<a class="anchor" id="adbe6c27b3064d3a0aeff5418a0a6e45d"></a><!-- doxytag: member="JoystickHostWithParser.c::EVENT_USB_Host_DeviceUnattached" ref="adbe6c27b3064d3a0aeff5418a0a6e45d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVENT_USB_Host_DeviceUnattached </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Event handler for the USB_DeviceUnattached event. This indicates that a device has been removed from the host, and stops the library USB task management process. </p>

</div>
</div>
<a class="anchor" id="acba95db728d0d4ffc4abaf4b1e9dc707"></a><!-- doxytag: member="JoystickHostWithParser.c::EVENT_USB_Host_HostError" ref="acba95db728d0d4ffc4abaf4b1e9dc707" args="(const uint8_t ErrorCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVENT_USB_Host_HostError </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&nbsp;</td>
          <td class="paramname"> <em>ErrorCode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Event handler for the USB_HostError event. This indicates that a hardware error occurred while in host mode. </p>

</div>
</div>
<a class="anchor" id="a840291bc02cba5474a4cb46a9b9566fe"></a><!-- doxytag: member="JoystickHostWithParser.c::main" ref="a840291bc02cba5474a4cb46a9b9566fe" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Main program entry point. This routine configures the hardware required by the application, then enters a loop to run the application tasks in sequence. </p>

</div>
</div>
<a class="anchor" id="acb27e569c06a2797c5fd58ed39147448"></a><!-- doxytag: member="JoystickHostWithParser.c::SetupHardware" ref="acb27e569c06a2797c5fd58ed39147448" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetupHardware </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Configures the board hardware and chip peripherals for the demo's functionality. </p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="a90d91e73fbcaef8f1c91098f9f08372c"></a><!-- doxytag: member="JoystickHostWithParser.c::HIDReportInfo" ref="a90d91e73fbcaef8f1c91098f9f08372c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">HID_ReportInfo_t <a class="el" href="a00001.html#a90d91e73fbcaef8f1c91098f9f08372c">HIDReportInfo</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Processed HID report descriptor items structure, containing information on each HID report element </p>

</div>
</div>
<a class="anchor" id="a85a79ab8955f38427bffb57527382a96"></a><!-- doxytag: member="JoystickHostWithParser.c::Joystick_HID_Interface" ref="a85a79ab8955f38427bffb57527382a96" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">USB_ClassInfo_HID_Host_t <a class="el" href="a00001.html#a85a79ab8955f38427bffb57527382a96">Joystick_HID_Interface</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment">
    {
        .Config =
            {
                .DataINPipeNumber       = 1,
                .DataINPipeDoubleBank   = <span class="keyword">false</span>,

                .DataOUTPipeNumber      = 2,
                .DataOUTPipeDoubleBank  = <span class="keyword">false</span>,
                
                .HIDInterfaceProtocol   = HID_NON_BOOT_PROTOCOL,
                
                .HIDParserData          = &amp;<a class="code" href="a00001.html#a90d91e73fbcaef8f1c91098f9f08372c">HIDReportInfo</a>
            },
    }
</pre></div><p>LUFA HID Class driver interface configuration and state information. This structure is passed to all HID Class driver functions, so that multiple instances of the same class within a device can be differentiated from one another. </p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 1 Dec 2009 for LUFA Library - Joystick Host Demo (Using HID Descriptor Parser) by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
