<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>LUFA Library - Joystick Host (Using HID Descriptor Parser): JoystickHostWithParser.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>JoystickHostWithParser.h File Reference</h1><code>#include &lt;avr/io.h&gt;</code><br/>
<code>#include &lt;avr/wdt.h&gt;</code><br/>
<code>#include &lt;avr/pgmspace.h&gt;</code><br/>
<code>#include &lt;avr/power.h&gt;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;LUFA/Version.h&gt;</code><br/>
<code>#include &lt;LUFA/Drivers/Misc/TerminalCodes.h&gt;</code><br/>
<code>#include &lt;LUFA/Drivers/Peripheral/SerialStream.h&gt;</code><br/>
<code>#include &lt;LUFA/Drivers/Board/LEDs.h&gt;</code><br/>
<code>#include &lt;LUFA/Drivers/USB/USB.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="a00003.html">ConfigDescriptor.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="a00005.html">HIDReport.h</a>&quot;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00007.html#a117d67a7960cd5d375d49e0bb7bfa3e1">JOYSTICK_DATAPIPE</a>&nbsp;&nbsp;&nbsp;1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00007.html#a35a06cf522ba5b8ef837c8c5e0bee17b">LEDMASK_USB_NOTREADY</a>&nbsp;&nbsp;&nbsp;LEDS_LED1</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00007.html#ae5f555e6ba3f29cf2683653715b2882b">LEDMASK_USB_ENUMERATING</a>&nbsp;&nbsp;&nbsp;(LEDS_LED2 | LEDS_LED3)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00007.html#a1bdfeb2384ab943afb611716fb2034ee">LEDMASK_USB_READY</a>&nbsp;&nbsp;&nbsp;(LEDS_LED2 | LEDS_LED4)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00007.html#a9c02d2f661a67e5d895a637b1786e495">LEDMASK_USB_ERROR</a>&nbsp;&nbsp;&nbsp;(LEDS_LED1 | LEDS_LED3)</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00007.html#a21f38cdb89e75aa3ebd5b62e9e017356">Joystick_HID_Task</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00007.html#acb27e569c06a2797c5fd58ed39147448">SetupHardware</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00007.html#acba95db728d0d4ffc4abaf4b1e9dc707">EVENT_USB_Host_HostError</a> (const uint8_t ErrorCode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00007.html#a011fab117d47b660e88a11fc4d3ebd48">EVENT_USB_Host_DeviceAttached</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00007.html#adbe6c27b3064d3a0aeff5418a0a6e45d">EVENT_USB_Host_DeviceUnattached</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00007.html#ae0b1e6afc2831ad33bda0b1c1d8f5825">EVENT_USB_Host_DeviceEnumerationFailed</a> (const uint8_t ErrorCode, const uint8_t SubErrorCode)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00007.html#a014e4d885358636c13efb643e56abe67">EVENT_USB_Host_DeviceEnumerationComplete</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00007.html#abf28960172473d0388311631f7495327">ProcessJoystickReport</a> (uint8_t *JoystickReport)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Header file for <a class="el" href="a00006.html">JoystickHostWithParser.c</a>. </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="a117d67a7960cd5d375d49e0bb7bfa3e1"></a><!-- doxytag: member="JoystickHostWithParser.h::JOYSTICK_DATAPIPE" ref="a117d67a7960cd5d375d49e0bb7bfa3e1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define JOYSTICK_DATAPIPE&nbsp;&nbsp;&nbsp;1</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Pipe number for the joystick report data pipe </p>

</div>
</div>
<a class="anchor" id="ae5f555e6ba3f29cf2683653715b2882b"></a><!-- doxytag: member="JoystickHostWithParser.h::LEDMASK_USB_ENUMERATING" ref="ae5f555e6ba3f29cf2683653715b2882b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LEDMASK_USB_ENUMERATING&nbsp;&nbsp;&nbsp;(LEDS_LED2 | LEDS_LED3)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>LED mask for the library LED driver, to indicate that the USB interface is enumerating. </p>

</div>
</div>
<a class="anchor" id="a9c02d2f661a67e5d895a637b1786e495"></a><!-- doxytag: member="JoystickHostWithParser.h::LEDMASK_USB_ERROR" ref="a9c02d2f661a67e5d895a637b1786e495" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LEDMASK_USB_ERROR&nbsp;&nbsp;&nbsp;(LEDS_LED1 | LEDS_LED3)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>LED mask for the library LED driver, to indicate that an error has occurred in the USB interface. </p>

</div>
</div>
<a class="anchor" id="a35a06cf522ba5b8ef837c8c5e0bee17b"></a><!-- doxytag: member="JoystickHostWithParser.h::LEDMASK_USB_NOTREADY" ref="a35a06cf522ba5b8ef837c8c5e0bee17b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LEDMASK_USB_NOTREADY&nbsp;&nbsp;&nbsp;LEDS_LED1</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>LED mask for the library LED driver, to indicate that the USB interface is not ready. </p>

</div>
</div>
<a class="anchor" id="a1bdfeb2384ab943afb611716fb2034ee"></a><!-- doxytag: member="JoystickHostWithParser.h::LEDMASK_USB_READY" ref="a1bdfeb2384ab943afb611716fb2034ee" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LEDMASK_USB_READY&nbsp;&nbsp;&nbsp;(LEDS_LED2 | LEDS_LED4)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>LED mask for the library LED driver, to indicate that the USB interface is ready. </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a011fab117d47b660e88a11fc4d3ebd48"></a><!-- doxytag: member="JoystickHostWithParser.h::EVENT_USB_Host_DeviceAttached" ref="a011fab117d47b660e88a11fc4d3ebd48" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVENT_USB_Host_DeviceAttached </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Event handler for the USB_DeviceAttached event. This indicates that a device has been attached to the host, and starts the library USB task to begin the enumeration and USB management process. </p>

</div>
</div>
<a class="anchor" id="a014e4d885358636c13efb643e56abe67"></a><!-- doxytag: member="JoystickHostWithParser.h::EVENT_USB_Host_DeviceEnumerationComplete" ref="a014e4d885358636c13efb643e56abe67" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVENT_USB_Host_DeviceEnumerationComplete </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Event handler for the USB_DeviceEnumerationComplete event. This indicates that a device has been successfully enumerated by the host and is now ready to be used by the application. </p>

</div>
</div>
<a class="anchor" id="ae0b1e6afc2831ad33bda0b1c1d8f5825"></a><!-- doxytag: member="JoystickHostWithParser.h::EVENT_USB_Host_DeviceEnumerationFailed" ref="ae0b1e6afc2831ad33bda0b1c1d8f5825" args="(const uint8_t ErrorCode, const uint8_t SubErrorCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVENT_USB_Host_DeviceEnumerationFailed </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&nbsp;</td>
          <td class="paramname"> <em>ErrorCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&nbsp;</td>
          <td class="paramname"> <em>SubErrorCode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Event handler for the USB_DeviceEnumerationFailed event. This indicates that a problem occurred while enumerating an attached USB device. </p>

</div>
</div>
<a class="anchor" id="adbe6c27b3064d3a0aeff5418a0a6e45d"></a><!-- doxytag: member="JoystickHostWithParser.h::EVENT_USB_Host_DeviceUnattached" ref="adbe6c27b3064d3a0aeff5418a0a6e45d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVENT_USB_Host_DeviceUnattached </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Event handler for the USB_DeviceUnattached event. This indicates that a device has been removed from the host, and stops the library USB task management process. </p>

</div>
</div>
<a class="anchor" id="acba95db728d0d4ffc4abaf4b1e9dc707"></a><!-- doxytag: member="JoystickHostWithParser.h::EVENT_USB_Host_HostError" ref="acba95db728d0d4ffc4abaf4b1e9dc707" args="(const uint8_t ErrorCode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVENT_USB_Host_HostError </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&nbsp;</td>
          <td class="paramname"> <em>ErrorCode</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Event handler for the USB_HostError event. This indicates that a hardware error occurred while in host mode. </p>

</div>
</div>
<a class="anchor" id="a21f38cdb89e75aa3ebd5b62e9e017356"></a><!-- doxytag: member="JoystickHostWithParser.h::Joystick_HID_Task" ref="a21f38cdb89e75aa3ebd5b62e9e017356" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Joystick_HID_Task </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Task to set the configuration of the attached device after it has been enumerated, and to read and process the HID report descriptor and HID reports from the device and display the results onto the board LEDs. </p>

</div>
</div>
<a class="anchor" id="abf28960172473d0388311631f7495327"></a><!-- doxytag: member="JoystickHostWithParser.h::ProcessJoystickReport" ref="abf28960172473d0388311631f7495327" args="(uint8_t *JoystickReport)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ProcessJoystickReport </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&nbsp;</td>
          <td class="paramname"> <em>JoystickReport</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Processes a read HID report from an attached joystick, extracting out elements via the HID parser results as required and displays movement and button presses on the board LEDs.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>JoystickReport</em>&nbsp;</td><td>Pointer to a HID report from an attached joystick device </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acb27e569c06a2797c5fd58ed39147448"></a><!-- doxytag: member="JoystickHostWithParser.h::SetupHardware" ref="acb27e569c06a2797c5fd58ed39147448" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SetupHardware </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Configures the board hardware and chip peripherals for the demo's functionality. </p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 1 Dec 2009 for LUFA Library - Joystick Host (Using HID Descriptor Parser) by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
