<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>LUFA Library - Combined Mass Storage and Keyboard Device Demo: Combined Mass Storage and Keyboard Device Demo</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li class="current"><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Combined Mass Storage and Keyboard Device Demo</h1><h3>0.0.0 </h3><h2><a class="anchor" id="SSec_Compat">
Demo Compatibility:</a></h2>
<p>The following list indicates what microcontrollers are compatible with this demo.</p>
<ul>
<li>Series 7 USB AVRs</li>
<li>Series 6 USB AVRs</li>
<li>Series 4 USB AVRs</li>
<li>Series 2 USB AVRs</li>
</ul>
<h2><a class="anchor" id="SSec_Info">
USB Information:</a></h2>
<p>The following table gives a rundown of the USB utilization of this demo.</p>
<table border="1" cellspacing="3" cellpadding="3">
<tr>
<td><p><b>USB Mode:</b> </p>
</td><td><p>Device  </p>
</td></tr>
<tr>
<td><p><b>USB Classes:</b> </p>
</td><td><p>Mass Storage Device </p>
</td><td><p>Human Interface Device  </p>
</td></tr>
<tr>
<td><p><b>USB Subclasses:</b> </p>
</td><td><p>Bulk-Only Transport </p>
</td><td><p>Keyboard Subclass  </p>
</td></tr>
<tr>
<td><p><b>Relevant Standards:</b> </p>
</td><td><p>USBIF Mass Storage Standard </p>
</td><td><p>USB Bulk-Only Transport Standard </p>
</td><td><p>SCSI Primary Commands Specification </p>
</td><td><p>SCSI Block Commands Specification </p>
</td><td><p>USBIF HID Specification, USBIF HID Usage Tables  </p>
</td></tr>
<tr>
<td><p><b>Usable Speeds:</b> </p>
</td><td><p>Full Speed Mode  </p>
</td></tr>
</table>
<h2><a class="anchor" id="SSec_Description">
Project Description:</a></h2>
<p>Combined Mass Storage and Keyboard demonstration application. This gives a simple reference application for implementing a dual class USB Mass Storage and USB HID Keyboard device using the basic USB UFI and HID drivers in all modern OSes (i.e. no special drivers required).</p>
<p>On start-up the system will automatically enumerate and function as an external mass storage device (which may be formatted and used in the same manner as commercial USB Mass Storage devices) and a USB keyboard.</p>
<p>You will need to format the mass storage drive upon first run of this demonstration - as the device acts only as a data block transport between the host and the storage media, it does not matter what file system is used, as the data interpretation is performed by the host and not the USB device.</p>
<p>Keys on the USB keyboard can be pressed by moving the board's Joystick.</p>
<p>The USB control endpoint is managed entirely by the library using endpoint interrupts, as the INTERRUPT_CONTROL_ENDPOINT option is enabled. This allows for the host to reset the Mass Storage device state during long transfers without the need for complicated polling logic.</p>
<h2><a class="anchor" id="SSec_Options">
Project Options</a></h2>
<p>The following defines can be found in this demo, which can control the demo behaviour when defined, or changed in value.</p>
<table border="1" cellspacing="3" cellpadding="3">
<tr>
<td><p><b>Define Name:</b> </p>
</td><td><p><b>Location:</b> </p>
</td><td><p><b>Description:</b>  </p>
</td></tr>
<tr>
<td><p>TOTAL_LUNS </p>
</td><td><p>MassStorage.h </p>
</td><td><p>Total number of Logical Units (drives) in the device. The total device capacity is shared equally between each drive</p>
<ul>
<li>this can be set to any positive non-zero amount.  </li>
</ul>
</td></tr>
</table>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 1 Dec 2009 for LUFA Library - Combined Mass Storage and Keyboard Device Demo by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
