<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Denver Gingerich&#39;s Stripe Snoop Project: Lib/MagstripeHW.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="dir_063ec0fa842cf94c24df937861f8dde2.html">Lib</a>
  </div>
</div>
<div class="contents">
<h1>MagstripeHW.h File Reference</h1><code>#include &lt;avr/io.h&gt;</code><br/>
<code>#include &lt;LUFA/Common/Common.h&gt;</code><br/>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00008.html#aca03d0b8cdaa15066c417fe5510dff40">MAG_MASK</a></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00008.html#a401a15153dbbf0bceb8c41685e962508">Magstripe_Init</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00008.html#a3b1568b6e7b4d11f0410a08d5c2d59af">Magstripe_GetStatus</a> (void) ATTR_WARN_UNUSED_RESULT</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Driver header for a TTL Magnetic Card reader device (such as the Omron V3B-4K). </p>
<hr/><h2>Define Documentation</h2>
<a class="anchor" id="aca03d0b8cdaa15066c417fe5510dff40"></a><!-- doxytag: member="MagstripeHW.h::MAG_MASK" ref="aca03d0b8cdaa15066c417fe5510dff40" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAG_MASK</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment">(MAG_T1_DATA | MAG_T1_CLOCK | \
                                 MAG_T2_DATA | MAG_T2_CLOCK | \
                                 MAG_T3_DATA | MAG_T3_CLOCK | \
                                 MAG_CARDPRESENT)
</pre></div><p>Mask of the track data, clock and card detection pins. </p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a3b1568b6e7b4d11f0410a08d5c2d59af"></a><!-- doxytag: member="MagstripeHW.h::Magstripe_GetStatus" ref="a3b1568b6e7b4d11f0410a08d5c2d59af" args="(void) ATTR_WARN_UNUSED_RESULT" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static uint8_t Magstripe_GetStatus </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Returns the status of all the magnetic card reader's outputs.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A mask indicating which card lines are high or low </dd></dl>

</div>
</div>
<a class="anchor" id="a401a15153dbbf0bceb8c41685e962508"></a><!-- doxytag: member="MagstripeHW.h::Magstripe_Init" ref="a401a15153dbbf0bceb8c41685e962508" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void Magstripe_Init </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Initializes the magnetic stripe card reader ports and pins so that the card reader device can be controlled and read by the card reader driver. This must be called before trying to read any of the card reader's status lines. </p>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 1 Dec 2009 for Denver Gingerich's Stripe Snoop Project by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
