<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>LUFA (Formerly MyUSB) Library: HID Class Device Mode Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>HID Class Device Mode Driver<br/>
<small>
[<a class="el" href="a00242.html">HID Class Driver - LUFA/Drivers/Class/HID.h</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00042.html">USB_ClassInfo_HID_Device_t</a></td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00238.html#ga8406875c050746ef681d65d787408d4c">HID_Device_ConfigureEndpoints</a> (<a class="el" href="a00042.html">USB_ClassInfo_HID_Device_t</a> *HIDInterfaceInfo) ATTR_NON_NULL_PTR_ARG(1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00238.html#ga844334501d63d1b3b4576cc8fae8b295">HID_Device_ProcessControlRequest</a> (<a class="el" href="a00042.html">USB_ClassInfo_HID_Device_t</a> *HIDInterfaceInfo) ATTR_NON_NULL_PTR_ARG(1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00238.html#ga6d81d90d6f141f1b6517fe749a51b793">HID_Device_USBTask</a> (<a class="el" href="a00042.html">USB_ClassInfo_HID_Device_t</a> *HIDInterfaceInfo) ATTR_NON_NULL_PTR_ARG(1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00238.html#ga2c7de7d66688d1187e40ec0a89b6b937">HID_Device_MillisecondElapsed</a> (<a class="el" href="a00042.html">USB_ClassInfo_HID_Device_t</a> *HIDInterfaceInfo) ATTR_NON_NULL_PTR_ARG(1)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00238.html#ga96e7dd2b52442f44a3efbaa303fd842a">CALLBACK_HID_Device_CreateHIDReport</a> (<a class="el" href="a00042.html">USB_ClassInfo_HID_Device_t</a> *const HIDInterfaceInfo, uint8_t *const ReportID, void *ReportData, uint16_t *ReportSize) ATTR_NON_NULL_PTR_ARG(1) ATTR_NON_NULL_PTR_ARG(2) ATTR_NON_NULL_PTR_ARG(3) ATTR_NON_NULL_PTR_ARG(4)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00238.html#ga77dd7f6470c43a3afc5de268264ebdee">CALLBACK_HID_Device_ProcessHIDReport</a> (<a class="el" href="a00042.html">USB_ClassInfo_HID_Device_t</a> *const HIDInterfaceInfo, const uint8_t ReportID, const void *ReportData, const uint16_t ReportSize) ATTR_NON_NULL_PTR_ARG(1) ATTR_NON_NULL_PTR_ARG(3)</td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<h2><a class="anchor" id="Sec_Dependencies">
Module Source Dependencies</a></h2>
<p>The following files must be built with any user project that uses this module:</p>
<ul>
<li>LUFA/Drivers/USB/Class/Device/HID.c</li>
</ul>
<h2><a class="anchor" id="Module">
Description</a></h2>
<p>Device Mode USB Class driver framework interface, for the HID USB Class driver. </p>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga96e7dd2b52442f44a3efbaa303fd842a"></a><!-- doxytag: member="HID.h::CALLBACK_HID_Device_CreateHIDReport" ref="ga96e7dd2b52442f44a3efbaa303fd842a" args="(USB_ClassInfo_HID_Device_t *const HIDInterfaceInfo, uint8_t *const ReportID, void *ReportData, uint16_t *ReportSize) ATTR_NON_NULL_PTR_ARG(1) ATTR_NON_NULL_PTR_ARG(2) ATTR_NON_NULL_PTR_ARG(3) ATTR_NON_NULL_PTR_ARG(4)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CALLBACK_HID_Device_CreateHIDReport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00042.html">USB_ClassInfo_HID_Device_t</a> *const &nbsp;</td>
          <td class="paramname"> <em>HIDInterfaceInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *const &nbsp;</td>
          <td class="paramname"> <em>ReportID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>ReportData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&nbsp;</td>
          <td class="paramname"> <em>ReportSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>HID class driver callback for the user creation of a HID IN report. This callback may fire in response to either HID class control requests from the host, or by the normal HID endpoint polling procedure. Inside this callback the user is responsible for the creation of the next HID input report to be sent to the host.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>HIDInterfaceInfo</em>&nbsp;</td><td>Pointer to a structure containing a HID Class configuration and state </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>ReportID</em>&nbsp;</td><td>If preset to a non-zero value, this is the report ID being requested by the host. If zero, this should be set to the report ID of the generated HID input report (if any). If multiple reports are not sent via the given HID interface, this parameter should be ignored. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>ReportData</em>&nbsp;</td><td>Pointer to a buffer where the generated HID report should be stored. </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>ReportSize</em>&nbsp;</td><td>Number of bytes in the generated input report, or zero if no report is to be sent</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Boolean true to force the sending of the report even if it is identical to the previous report and still within the idle period (useful for devices which report relative movement), false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="ga77dd7f6470c43a3afc5de268264ebdee"></a><!-- doxytag: member="HID.h::CALLBACK_HID_Device_ProcessHIDReport" ref="ga77dd7f6470c43a3afc5de268264ebdee" args="(USB_ClassInfo_HID_Device_t *const HIDInterfaceInfo, const uint8_t ReportID, const void *ReportData, const uint16_t ReportSize) ATTR_NON_NULL_PTR_ARG(1) ATTR_NON_NULL_PTR_ARG(3)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CALLBACK_HID_Device_ProcessHIDReport </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00042.html">USB_ClassInfo_HID_Device_t</a> *const &nbsp;</td>
          <td class="paramname"> <em>HIDInterfaceInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t&nbsp;</td>
          <td class="paramname"> <em>ReportID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>ReportData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t&nbsp;</td>
          <td class="paramname"> <em>ReportSize</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>HID class driver callback for the user processing of a received HID OUT report. This callback may fire in response to either HID class control requests from the host, or by the normal HID endpoint polling procedure. Inside this callback the user is responsible for the processing of the received HID output report from the host.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>HIDInterfaceInfo</em>&nbsp;</td><td>Pointer to a structure containing a HID Class configuration and state </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ReportID</em>&nbsp;</td><td>Report ID of the received output report. If multiple reports are not received via the given HID interface, this parameter should be ignored. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ReportData</em>&nbsp;</td><td>Pointer to a buffer where the received HID report is stored. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>ReportSize</em>&nbsp;</td><td>Size in bytes of the received report from the host. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga8406875c050746ef681d65d787408d4c"></a><!-- doxytag: member="HID.h::HID_Device_ConfigureEndpoints" ref="ga8406875c050746ef681d65d787408d4c" args="(USB_ClassInfo_HID_Device_t *HIDInterfaceInfo) ATTR_NON_NULL_PTR_ARG(1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool HID_Device_ConfigureEndpoints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00042.html">USB_ClassInfo_HID_Device_t</a> *&nbsp;</td>
          <td class="paramname"> <em>HIDInterfaceInfo</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Configures the endpoints of a given HID interface, ready for use. This should be linked to the library <a class="el" href="a00257.html#ga953a275884b9e33629ff6323fca05252">EVENT_USB_Device_ConfigurationChanged()</a> event so that the endpoints are configured when the configuration containing the given HID interface is selected.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>HIDInterfaceInfo</em>&nbsp;</td><td>Pointer to a structure containing a HID Class configuration and state</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Boolean true if the endpoints were successfully configured, false otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="ga2c7de7d66688d1187e40ec0a89b6b937"></a><!-- doxytag: member="HID.h::HID_Device_MillisecondElapsed" ref="ga2c7de7d66688d1187e40ec0a89b6b937" args="(USB_ClassInfo_HID_Device_t *HIDInterfaceInfo) ATTR_NON_NULL_PTR_ARG(1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HID_Device_MillisecondElapsed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00042.html">USB_ClassInfo_HID_Device_t</a> *&nbsp;</td>
          <td class="paramname"> <em>HIDInterfaceInfo</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Indicates that a millisecond of idle time has elapsed on the given HID interface, and the interface's idle count should be decremented. This should be called once per millisecond so that hardware key-repeats function correctly. It is recommended that this be called by the <a class="el" href="a00257.html#gaa3ebb4fd4403f463b300b745d8485b65">EVENT_USB_Device_StartOfFrame()</a> event, once SOF events have been enabled via <a class="el" href="a00261.html#gac66960e9df5ebd24a4a83fcfb2d5d16f">USB_Device_EnableSOFEvents()</a>;.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>HIDInterfaceInfo</em>&nbsp;</td><td>Pointer to a structure containing a HID Class configuration and state </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga844334501d63d1b3b4576cc8fae8b295"></a><!-- doxytag: member="HID.h::HID_Device_ProcessControlRequest" ref="ga844334501d63d1b3b4576cc8fae8b295" args="(USB_ClassInfo_HID_Device_t *HIDInterfaceInfo) ATTR_NON_NULL_PTR_ARG(1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HID_Device_ProcessControlRequest </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00042.html">USB_ClassInfo_HID_Device_t</a> *&nbsp;</td>
          <td class="paramname"> <em>HIDInterfaceInfo</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Processes incoming control requests from the host, that are directed to the given HID class interface. This should be linked to the library <a class="el" href="a00257.html#gabbebc3cb66ac3945b938ae5b93a71ea8">EVENT_USB_Device_UnhandledControlRequest()</a> event.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>HIDInterfaceInfo</em>&nbsp;</td><td>Pointer to a structure containing a HID Class configuration and state </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga6d81d90d6f141f1b6517fe749a51b793"></a><!-- doxytag: member="HID.h::HID_Device_USBTask" ref="ga6d81d90d6f141f1b6517fe749a51b793" args="(USB_ClassInfo_HID_Device_t *HIDInterfaceInfo) ATTR_NON_NULL_PTR_ARG(1)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HID_Device_USBTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00042.html">USB_ClassInfo_HID_Device_t</a> *&nbsp;</td>
          <td class="paramname"> <em>HIDInterfaceInfo</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>General management task for a given HID class interface, required for the correct operation of the interface. This should be called frequently in the main program loop, before the master USB management task <a class="el" href="a00268.html#gac4059f84a2fc0b926c31868c744f5853">USB_USBTask()</a>.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>HIDInterfaceInfo</em>&nbsp;</td><td>Pointer to a structure containing a HID Class configuration and state </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
<hr size="1"/><address style="text-align: right;"><small>Generated on 1 Dec 2009 for LUFA (Formerly MyUSB) Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
